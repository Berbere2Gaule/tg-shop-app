/* apps/web/app/TGShell.css */

/* Largeur + hauteurs constantes */
:root {
  --tg-mobile-width: 420px;
  --dock-height: 72px;          /* ← taille de base de la “paper” du dock */
  --header-extra-gap: 6px;       /* sera forcé à 10px par telegram.ts sur iOS */
}

/* Fond global (aligné avec Telegram si fourni) */
html, body {
  height: 100%;
  overflow: hidden;              /* ← force le scroll sur .tg-viewport (fixe la “scrollbar dark”) */
  background: var(--tg-app-bg, var(--mantine-color-body));
}

/* Cadre “mobile” constant */
.tg-shell {
  display: grid;
  place-items: center;
  min-height: 100dvh;
}

/* Zone scrollable : on réserve header + dock (avec les insets dynamiques) */
.tg-viewport {
  width: min(var(--app-max-w, 420px), 100vw);
  min-height: var(--tg-vh, 100dvh);
  margin: 0 auto;

  padding-top: calc(
    var(--dock-height)
    + var(--header-inset, env(safe-area-inset-top, 0px))
    + var(--header-extra-gap, 0px)
  );
  padding-bottom: calc(
    var(--dock-height)
    + var(--dock-inset, var(--safe-bottom, 0px))
  );

  box-sizing: border-box;
  transition: padding-top .2s ease, padding-bottom .2s ease;

  /* Scroll uniquement ici */
  overflow: auto;

  /* Masque la scrollbar (Firefox, Chromium, WebKit) */
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.tg-viewport::-webkit-scrollbar { width: 0; height: 0; }

/* Télégram Desktop : réduire la “paper” du dock pour supprimer l’espace de scrollbar */
html[data-tg-platform="tdesktop"] :root {
  --dock-height: 60px; /* essaie 56px si tu veux encore moins de hauteur */
}

/* Petits écrans: largeur pleine */
@media (max-width: 360px) {
  :root { --tg-mobile-width: 100vw; }
}
