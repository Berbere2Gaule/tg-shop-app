:root {
  /* Largeur visuelle de la mini-app (ajuste à 414 | 420 | 428 selon besoin) */
  --tg-mobile-width: 420px;

  /* Hauteur du Dock (garde-la synchronisée avec Dock.module.css) */
  --dock-height: 64px;
}

/* Centre la “vue mobile” sur desktop */
.shell {
  min-height: 100dvh;
  display: grid;
  place-items: center;
  background: var(--mantine-color-body);
}

/* La “vue téléphone” : largeur fixe + hauteur plein écran */
.viewport {
  position: relative;
  width: min(var(--tg-mobile-width), 100vw);
  min-height: 100dvh;
  margin: 0 auto;
  border-radius: 0;       /* look Telegram */
  overflow: clip;
}

/* Zone scrollable du contenu :
   on réserve le bas pour que le Dock n’empiète pas sur le contenu */
.canvas {
  min-height: 100%;
  padding-bottom: calc(var(--dock-height) + env(safe-area-inset-bottom));
}

/* Si Telegram expose une hauteur stable, on l’utilise */
@supports (height: var(--tg-viewport-stable-height)) {
  .viewport { min-height: var(--tg-viewport-stable-height); }
}

/* Petits écrans : on laisse prendre toute la largeur */
@media (max-width: 420px) {
  :root { --tg-mobile-width: 100vw; }
}

/* ==== Cadre "mobile" constant (même sur desktop) ==== */
.tg-shell {
  /* centre le téléphone virtuel */
  display: grid;
  place-items: center;
  min-height: 100dvh;
}

/* zone scrollable qui respecte la hauteur stable Telegram */
.tg-viewport {
  width: min(var(--app-max-w, 420px), 100vw);
  min-height: var(--tg-vh, 100dvh);
  margin: 0 auto;
  /* laisse passer le contenu sous le dock */
  padding-bottom: calc(64px + var(--safe-bottom, env(safe-area-inset-bottom, 0px)));
  box-sizing: border-box;
}
